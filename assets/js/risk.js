var win_probabilities_list = [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,40.9,10.6,2.7,0.1,0.2,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,73.9,35.4,23.1,9.2,4.6,2.3,0.8,0.5,0.1,0.0,0.1,0.0,0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,92.5,65.5,46.1,32.7,20.5,12.2,8.0,4.7,3.8,2.0,1.0,1.0,0.5,0.8,0.1,0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,97.3,78.0,64.8,47.6,36.5,22.8,19.8,12.0,9.2,6.4,4.6,2.3,2.8,0.8,0.6,0.3,0.2,0.1,0.0,0.2,0.0,0.0,0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,99.4,88.9,76.1,66.3,53.5,39.1,28.7,21.4,17.2,12.4,8.5,7.7,3.8,2.4,2.2,1.6,1.0,0.7,0.4,0.3,0.3,0.2,0.0,0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,99.7,94.0,85.0,73.8,60.5,53.0,41.4,34.9,23.7,20.2,14.9,11.1,7.5,6.3,4.3,3.0,1.8,1.7,1.4,0.8,0.1,0.1,0.4,0.2,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,100.0,95.9,91.7,81.9,72.2,62.0,54.7,45.4,37.2,27.9,20.4,16.8,13.8,10.4,8.6,4.8,4.1,3.2,2.1,1.1,0.6,1.1,0.8,0.2,0.1,0.1,0.2,0.0,0.0,0.1,0.0,0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,100.0,97.8,92.9,87.2,82.6,71.0,63.8,53.5,47.4,38.3,32.3,24.6,19.0,15.9,12.1,9.4,6.8,5.1,3.4,3.2,2.8,1.2,0.9,0.5,0.4,0.2,0.1,0.1,0.1,0.0,0.2,0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,100.0,99.0,97.8,93.0,88.5,80.7,72.2,66.1,58.0,49.3,38.4,32.8,26.7,21.8,17.6,14.6,8.6,8.2,6.8,5.0,4.8,3.1,1.7,1.7,1.1,0.8,0.5,0.1,0.3,0.1,0.1,0.0,0.0,0.1,0.1,0.0,0.2,0.0,0.0,0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,100.0,99.5,98.5,95.0,90.8,85.8,81.0,73.4,65.8,59.6,48.8,44.1,33.8,30.6,23.9,19.4,15.0,13.1,9.8,5.9,6.1,4.9,4.4,1.6,2.7,0.9,0.8,0.6,0.5,0.6,0.1,0.1,0.3,0.2,0.0,0.0,0.2,0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.1,0.0,0.0,0.0,0.0,100.0,100.0,98.7,96.1,95.0,91.2,85.2,81.7,72.3,67.1,55.2,51.4,42.2,39.7,33.0,27.1,19.9,18.7,15.3,9.3,8.2,7.7,4.7,3.7,3.5,2.4,1.8,0.8,1.1,0.3,0.4,0.3,0.1,0.4,0.3,0.0,0.1,0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,100.0,99.8,99.2,98.5,95.9,95.3,90.6,84.8,81.6,73.1,66.2,58.3,51.8,46.0,37.6,33.2,28.4,23.8,20.8,14.0,13.0,9.1,9.0,7.0,6.2,3.2,2.8,2.4,1.2,1.6,1.4,0.6,0.3,0.3,0.3,0.3,0.2,0.2,0.2,0.1,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,100.0,99.8,99.3,99.0,97.7,95.0,93.3,88.0,85.6,79.8,72.2,65.6,60.9,52.9,43.4,40.1,35.0,29.5,23.5,18.7,16.7,12.7,11.5,9.0,8.5,4.8,4.8,2.7,1.8,2.3,1.3,1.6,0.9,0.4,0.6,0.2,0.4,0.1,0.1,0.1,0.1,0.1,0.0,0.0,0.0,0.1,0.0,0.0,0.0,0.0,100.0,100.0,99.8,99.4,98.7,97.1,94.6,91.8,87.8,82.1,75.9,71.2,67.9,59.6,52.9,48.2,43.0,34.3,32.5,26.0,20.8,19.2,16.5,12.8,10.4,7.0,7.1,4.7,3.9,2.9,2.9,2.9,1.4,1.4,0.8,0.6,0.5,0.4,0.1,0.2,0.1,0.1,0.1,0.1,0.1,0.0,0.1,0.0,0.0,0.0,100.0,100.0,99.9,99.6,99.3,98.5,96.1,93.9,93.0,86.5,82.6,75.9,73.7,67.1,58.2,55.1,48.3,42.6,36.5,33.0,26.4,23.0,16.7,17.8,13.2,11.8,9.7,7.9,7.6,2.9,3.8,3.3,2.4,2.1,1.7,0.6,0.4,0.5,0.4,0.3,0.3,0.2,0.1,0.1,0.0,0.0,0.0,0.0,0.1,0.0,100.0,100.0,100.0,99.7,98.9,99.2,97.8,96.0,93.0,91.8,86.5,81.4,79.0,73.7,67.4,61.2,55.3,48.2,48.6,40.2,37.2,29.4,25.4,21.8,18.1,13.6,11.1,10.3,8.5,7.0,6.0,4.0,4.1,2.1,2.5,1.6,0.8,0.9,0.6,0.6,0.4,0.5,0.2,0.0,0.1,0.1,0.2,0.2,0.0,0.0,100.0,100.0,99.8,100.0,99.3,99.1,98.6,98.0,95.2,92.6,91.1,88.1,83.3,78.2,72.5,67.6,62.5,55.0,51.3,46.9,39.7,34.5,27.5,27.6,22.7,18.5,15.1,15.2,10.2,8.1,7.4,6.4,4.9,4.5,2.6,2.1,1.9,2.4,1.4,1.3,0.7,0.5,0.4,0.3,0.4,0.3,0.0,0.0,0.0,0.0,100.0,100.0,100.0,100.0,99.9,99.5,98.9,98.4,96.7,95.5,93.1,89.2,86.7,82.6,75.5,71.8,66.5,60.9,56.0,50.6,43.9,42.9,34.1,30.4,26.5,22.1,19.4,17.4,14.3,12.4,9.5,9.4,6.0,5.4,5.0,2.8,2.8,2.6,2.0,1.2,1.4,1.0,1.1,0.7,0.5,0.3,0.2,0.2,0.0,0.2,100.0,100.0,100.0,99.8,99.8,99.4,99.3,98.4,97.7,96.8,94.6,92.4,90.4,86.5,81.8,78.2,72.8,71.7,61.1,59.1,53.1,47.0,38.0,36.4,35.4,28.1,23.4,20.4,16.6,14.2,14.3,13.4,9.8,6.8,5.9,5.1,3.0,3.1,2.9,2.5,1.7,1.0,0.9,0.7,0.8,0.3,0.4,0.4,0.1,0.1,100.0,100.0,100.0,100.0,100.0,99.8,99.7,99.5,98.7,97.7,96.4,94.1,91.9,89.3,87.2,82.3,78.9,71.8,68.6,61.2,59.3,52.8,50.2,44.4,38.4,31.8,29.9,23.2,22.2,19.9,15.5,13.3,11.3,10.6,8.4,6.7,5.4,4.5,2.9,3.4,1.9,1.9,1.4,1.3,1.8,0.9,0.8,0.5,0.8,0.3,100.0,100.0,100.0,100.0,100.0,100.0,99.8,99.6,99.2,98.5,97.9,96.1,93.0,92.5,89.4,86.5,82.1,78.6,74.0,68.7,62.9,58.6,54.0,46.8,46.3,35.7,36.1,30.1,25.3,24.7,20.2,16.2,15.7,14.1,11.3,10.9,7.6,4.7,4.8,4.7,4.1,2.5,2.8,2.7,1.0,1.1,1.1,0.7,0.3,0.9,100.0,100.0,100.0,100.0,100.0,99.9,99.9,99.6,99.6,99.3,98.1,96.7,96.3,95.0,92.0,89.6,87.4,82.7,75.9,77.5,66.9,65.2,60.8,51.8,45.8,46.2,39.2,35.4,35.3,27.3,24.6,23.3,19.1,17.7,14.0,11.7,9.8,8.2,6.1,5.0,5.1,5.8,2.4,1.9,1.3,1.5,0.9,1.2,0.6,0.7,100.0,100.0,100.0,100.0,100.0,100.0,99.9,99.8,99.6,99.5,98.5,98.2,95.6,95.5,94.0,91.0,88.1,83.5,83.7,77.4,73.6,70.6,64.7,60.4,56.7,48.6,41.9,39.6,34.3,34.3,30.1,25.3,22.5,20.9,15.3,13.4,12.9,10.2,9.4,7.7,5.2,5.6,3.4,3.2,2.6,2.3,1.7,1.6,1.0,0.9,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.8,99.7,99.1,98.3,97.8,98.3,96.2,94.7,93.7,91.3,86.6,84.1,83.7,76.0,72.3,70.7,61.3,62.3,55.5,52.1,45.8,40.4,39.1,33.2,28.5,26.0,22.7,19.2,19.0,15.4,11.2,10.7,8.9,8.0,5.8,5.9,4.1,3.8,3.6,2.6,2.8,1.2,1.3,100.0,100.0,99.9,100.0,100.0,100.0,100.0,99.9,99.8,99.6,99.6,98.6,98.6,97.5,96.3,95.2,93.6,90.6,87.9,82.6,82.5,78.9,74.5,69.6,62.8,61.8,58.2,51.0,47.1,46.9,36.7,36.3,29.8,28.1,23.5,20.9,17.6,15.3,12.5,12.7,9.6,9.8,8.6,5.6,4.4,5.0,3.3,2.2,1.8,1.2,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,100.0,99.5,99.5,99.2,99.2,98.6,97.9,96.2,95.2,93.7,90.7,87.2,87.1,80.4,80.2,74.0,69.5,66.4,62.0,55.4,52.9,48.0,43.8,37.3,36.5,31.7,27.1,26.6,21.9,19.2,16.7,16.1,10.4,11.0,7.6,9.1,7.3,4.1,5.3,4.6,3.0,2.5,100.0,100.0,100.0,100.0,100.0,99.9,100.0,100.0,100.0,99.9,99.8,99.3,98.9,98.9,97.8,97.9,96.4,95.9,93.0,91.8,86.0,84.2,80.2,77.7,73.4,72.4,65.1,64.0,55.0,53.5,48.5,45.7,40.7,32.3,33.3,30.1,26.0,23.9,22.0,17.5,15.2,15.4,11.2,9.0,7.8,6.9,4.9,5.3,3.7,3.8,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,99.7,100.0,99.5,99.2,98.4,98.9,97.4,97.0,95.5,93.4,92.3,91.1,87.6,84.4,80.3,78.5,71.0,72.8,67.6,63.7,58.3,54.6,52.6,45.7,40.8,37.4,36.1,31.4,27.9,25.4,20.4,18.3,14.3,16.4,11.9,11.5,8.2,7.9,5.4,5.1,3.3,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.8,100.0,99.9,99.4,99.3,99.0,97.8,97.5,96.6,94.3,94.1,92.5,90.8,88.1,84.0,84.8,79.5,77.7,73.7,68.2,62.2,59.0,56.0,50.2,45.4,45.2,37.5,31.3,34.0,27.7,22.8,20.0,20.5,17.3,13.3,11.1,10.4,9.0,7.4,7.1,5.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,100.0,99.9,99.9,100.0,99.9,99.7,99.6,98.4,97.9,97.2,96.7,95.8,94.5,92.0,91.1,87.7,84.7,80.7,78.7,75.8,72.0,66.0,63.3,57.2,54.6,47.7,48.5,41.3,38.6,33.1,31.6,28.1,23.5,20.3,19.0,19.8,15.2,15.9,12.7,11.4,8.4,7.1,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,99.7,99.6,99.7,99.7,99.6,98.5,98.1,97.0,95.9,95.5,93.0,92.2,90.8,87.0,85.1,82.4,80.0,76.1,71.2,71.0,63.3,58.2,58.6,51.8,43.5,44.1,41.5,39.9,31.9,31.3,25.0,20.6,20.7,18.2,16.7,12.5,12.3,13.0,7.6,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,99.8,99.5,99.6,98.9,99.3,98.0,98.6,97.6,96.1,95.0,94.0,92.0,90.9,88.0,85.7,84.0,77.4,76.5,72.4,68.3,67.1,62.5,57.3,52.4,48.3,43.2,40.7,36.2,36.6,32.4,29.9,24.4,20.7,20.5,18.1,14.4,12.1,11.9,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,99.8,100.0,99.7,99.7,99.9,99.6,99.3,99.0,98.4,97.6,97.2,96.4,94.9,93.5,92.5,90.0,85.5,85.5,80.5,80.8,75.4,72.6,68.4,67.7,61.4,58.2,52.4,51.9,45.6,43.6,37.4,33.4,28.9,28.5,25.8,22.2,15.7,18.7,17.8,12.8,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,99.5,99.6,99.1,98.9,99.1,98.6,99.0,97.0,96.1,94.7,93.2,91.9,90.3,87.3,83.8,82.2,80.7,79.3,72.8,68.0,64.6,61.8,59.0,53.3,48.9,47.6,43.6,39.6,36.5,33.2,28.9,26.1,21.4,21.8,18.3,17.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,100.0,99.9,100.0,99.8,99.9,99.5,99.5,99.5,98.9,98.7,97.0,97.1,95.2,94.5,93.5,90.8,90.7,87.2,83.5,81.8,80.9,78.4,73.8,71.9,67.5,59.5,57.0,54.8,51.9,48.6,43.7,41.7,36.3,34.6,31.4,27.3,23.1,22.7,18.5,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,100.0,99.9,99.9,99.6,99.9,99.5,99.3,99.1,98.2,98.4,97.5,97.2,94.6,94.4,92.2,93.0,91.1,88.3,86.3,80.9,81.5,78.3,73.6,69.7,66.4,62.8,59.3,55.4,53.2,47.6,43.0,42.4,37.3,35.6,30.0,25.5,23.1,19.8,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,100.0,100.0,100.0,99.9,99.9,99.7,99.7,99.4,98.8,98.9,98.0,98.0,96.8,94.9,93.9,94.4,92.1,90.6,87.8,85.7,82.4,79.4,74.0,75.4,71.9,66.9,60.9,62.2,52.7,49.5,44.7,45.0,40.2,34.5,34.2,31.6,26.6,26.6,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,100.0,100.0,99.9,100.0,99.7,99.9,99.5,99.4,98.8,98.6,98.2,98.2,97.2,97.5,95.8,94.8,91.5,88.5,89.6,88.7,84.6,83.0,80.8,76.9,73.8,70.6,67.5,66.5,60.9,57.9,52.9,48.0,44.8,41.2,37.9,36.3,32.9,30.7,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,100.0,99.7,99.4,99.3,99.3,98.3,98.2,96.8,97.2,96.7,95.7,93.9,93.0,91.3,90.4,87.8,85.9,82.4,78.9,76.5,72.8,72.6,67.7,62.2,59.0,57.3,51.5,48.0,45.8,44.3,36.0,33.8,34.1,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,100.0,99.9,99.9,99.9,99.9,99.8,99.4,99.4,99.4,99.2,98.8,96.9,98.1,95.9,94.3,93.5,94.0,91.1,89.0,86.7,85.5,81.4,81.0,76.3,73.8,70.4,67.1,62.6,63.9,62.4,56.8,46.9,45.8,41.3,42.3,33.1,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,99.8,99.7,99.8,99.5,99.7,99.2,98.6,98.5,97.8,97.2,95.6,95.3,95.2,92.9,90.7,90.0,88.0,86.0,82.6,80.6,76.9,73.6,71.3,67.3,63.8,59.7,56.5,56.2,51.2,46.4,43.9,39.8,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,99.9,99.6,99.4,99.9,99.9,99.6,99.1,98.6,97.6,97.4,96.2,95.3,95.9,93.0,92.7,89.9,86.4,85.7,80.4,79.2,79.5,74.1,74.5,69.8,67.0,62.6,58.1,51.8,50.9,47.5,45.9,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,99.8,99.7,99.6,99.4,98.8,98.3,98.9,98.4,97.8,97.7,96.6,94.6,93.4,91.7,90.8,89.9,87.6,84.0,83.2,78.7,75.5,75.3,71.2,69.7,64.5,60.7,58.1,55.2,51.8,48.3,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,100.0,100.0,99.7,99.9,99.8,99.8,99.6,99.6,98.8,99.1,98.2,97.7,96.9,95.3,94.9,93.3,92.7,89.9,89.1,87.1,86.9,82.9,82.4,76.6,76.2,71.1,68.8,64.3,63.5,56.6,56.8,53.3,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,100.0,99.8,100.0,99.9,99.7,99.7,98.9,99.4,99.5,98.4,98.3,97.1,96.8,94.5,95.5,93.7,92.5,91.1,89.8,84.9,83.7,81.4,80.3,76.9,75.6,73.5,71.3,66.5,64.5,62.0,54.7,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.8,99.8,99.9,99.8,99.6,99.6,99.5,99.3,98.3,98.8,98.4,97.1,95.7,95.5,94.3,93.9,92.3,91.8,90.4,87.4,85.0,80.4,79.8,77.5,74.8,73.8,71.0,68.9,63.0,59.7,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,100.0,100.0,100.0,100.0,99.8,99.8,99.7,99.8,99.4,99.4,99.1,99.1,97.7,97.8,96.7,97.3,95.5,94.7,93.8,89.9,90.8,87.8,88.7,85.1,84.3,81.5,78.8,72.8,73.8,67.8,70.2,63.3,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.9,99.9,99.9,100.0,99.7,99.8,99.6,99.6,99.5,99.3,99.0,98.5,98.4,97.1,95.6,95.2,94.3,92.6,91.7,90.2,89.3,86.3,85.0,83.8,80.2,77.5,77.3,71.2,70.1,67.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,100.0,99.8,99.7,99.9,99.6,99.6,98.9,98.8,99.7,98.6,98.1,95.9,96.5,96.3,93.5,90.7,93.1,92.5,90.4,87.6,86.9,84.1,82.4,77.2,76.6,69.5,69.2];
var average_survivors_list = [1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.408,1.115,1.031,1.005,1.002,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.349,1.597,1.356,1.146,1.082,1.027,1.011,1.011,1.003,1.003,1.002,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,3.41,2.532,2.072,1.716,1.401,1.279,1.189,1.121,1.048,1.04,1.027,1.019,1.004,1.001,1.008,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,4.487,3.458,2.848,2.38,2.053,1.715,1.477,1.263,1.225,1.144,1.085,1.066,1.024,1.035,1.019,1.004,1.01,1.005,1.005,1.006,1.002,1.0,1.0,1.001,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,5.511,4.5,3.8,3.029,2.586,2.276,1.898,1.622,1.445,1.285,1.196,1.134,1.083,1.089,1.041,1.048,1.02,1.014,1.016,1.003,1.003,1.002,1.0,1.002,1.003,1.0,1.0,1.0,1.0,1.0,1.003,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,6.469,5.521,4.767,4.044,3.412,2.789,2.527,2.028,1.847,1.554,1.457,1.275,1.189,1.14,1.118,1.077,1.045,1.04,1.019,1.011,1.007,1.004,1.006,1.004,1.0,1.0,1.0,1.0,1.002,1.003,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,7.469,6.48,5.727,4.812,4.383,3.59,3.173,2.701,2.287,1.895,1.723,1.578,1.447,1.343,1.232,1.168,1.107,1.094,1.05,1.05,1.03,1.016,1.002,1.02,1.015,1.003,1.007,1.003,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,8.522,7.445,6.693,5.912,5.207,4.412,3.944,3.2,2.858,2.415,2.224,1.864,1.633,1.588,1.446,1.337,1.221,1.138,1.118,1.063,1.057,1.075,1.03,1.026,1.013,1.014,1.008,1.002,1.007,1.001,1.003,1.0,1.0,1.002,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,9.489,8.522,7.766,6.909,5.962,5.377,4.617,3.881,3.546,3.0,2.685,2.37,2.045,1.825,1.608,1.471,1.313,1.265,1.208,1.184,1.088,1.082,1.055,1.047,1.042,1.015,1.012,1.01,1.005,1.007,1.004,1.004,1.008,1.0,1.002,1.0,1.0,1.001,1.005,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,10.437,9.549,8.753,7.764,7.007,6.342,5.468,4.917,4.347,3.644,3.127,2.824,2.338,2.13,2.068,1.705,1.564,1.406,1.339,1.243,1.172,1.14,1.11,1.058,1.071,1.042,1.039,1.012,1.031,1.016,1.009,1.005,1.002,1.002,1.002,1.0,1.004,1.0,1.005,1.005,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,11.475,10.497,9.666,8.664,7.882,6.95,6.389,5.706,4.927,4.221,3.935,3.507,2.976,2.601,2.204,2.103,1.818,1.701,1.478,1.374,1.306,1.288,1.205,1.147,1.103,1.066,1.058,1.072,1.03,1.014,1.012,1.015,1.014,1.003,1.011,1.0,1.005,1.006,1.001,1.0,1.0,1.0,1.0,1.0,1.003,1.0,1.0,1.0,1.0,1.0,12.424,11.388,10.781,9.945,8.75,8.434,7.542,6.543,5.834,5.117,4.543,4.194,3.557,3.191,2.733,2.405,2.229,1.834,1.641,1.654,1.52,1.337,1.32,1.204,1.181,1.144,1.09,1.063,1.057,1.031,1.044,1.025,1.013,1.018,1.004,1.005,1.006,1.003,1.0,1.0,1.003,1.006,1.0,1.002,1.0,1.0,1.0,1.0,1.0,1.0,13.431,12.426,11.627,10.621,10.03,9.071,8.281,7.578,6.628,5.791,5.461,4.632,4.242,3.517,3.327,2.789,2.542,2.247,2.02,1.996,1.781,1.576,1.374,1.355,1.244,1.185,1.156,1.139,1.062,1.085,1.068,1.038,1.029,1.018,1.018,1.008,1.003,1.0,1.008,1.007,1.002,1.0,1.002,1.005,1.0,1.004,1.0,1.0,1.0,1.0,14.483,13.492,12.729,11.749,11.03,10.053,9.499,8.635,7.678,7.092,6.247,5.824,5.061,4.268,4.006,3.506,3.133,2.763,2.436,2.182,1.987,1.834,1.691,1.485,1.36,1.313,1.294,1.165,1.153,1.11,1.092,1.051,1.069,1.032,1.018,1.049,1.013,1.018,1.003,1.008,1.003,1.01,1.0,1.002,1.0,1.0,1.0,1.0,1.0,1.0,15.479,14.437,13.654,12.816,11.971,11.016,10.295,9.471,8.73,8.016,7.115,6.399,5.476,5.079,4.541,4.104,3.582,3.28,2.866,2.492,2.459,2.11,1.772,1.771,1.701,1.479,1.396,1.35,1.225,1.151,1.124,1.102,1.108,1.069,1.029,1.07,1.017,1.027,1.03,1.031,1.009,1.012,1.005,1.0,1.007,1.0,1.0,1.0,1.0,1.0,16.5,15.437,14.773,13.825,13.051,12.234,11.099,10.345,9.544,8.836,8.186,7.383,6.671,5.97,5.505,4.824,4.256,3.812,3.162,2.873,2.652,2.401,2.164,1.896,1.711,1.604,1.601,1.399,1.32,1.205,1.254,1.142,1.145,1.131,1.073,1.058,1.045,1.027,1.018,1.019,1.009,1.006,1.017,1.013,1.003,1.0,1.006,1.0,1.01,1.0,17.505,16.459,15.639,14.684,13.98,13.179,12.131,11.372,10.193,9.655,9.205,8.184,7.501,6.922,6.18,5.605,5.14,4.349,4.006,3.579,3.054,2.895,2.325,2.314,2.087,1.882,1.778,1.596,1.454,1.435,1.254,1.22,1.179,1.179,1.084,1.091,1.052,1.09,1.043,1.033,1.027,1.029,1.013,1.006,1.008,1.002,1.01,1.013,1.0,1.007,18.474,17.489,16.769,15.826,15.032,14.06,13.127,12.45,11.663,10.633,10.068,9.026,8.575,7.689,7.005,6.095,5.634,5.143,4.885,4.08,3.449,3.379,2.949,2.656,2.484,2.016,2.016,1.797,1.686,1.572,1.392,1.329,1.264,1.207,1.203,1.13,1.122,1.097,1.085,1.061,1.034,1.02,1.054,1.013,1.005,1.014,1.011,1.004,1.007,1.005,19.524,18.575,17.586,16.766,15.966,15.181,14.156,13.523,12.775,11.595,10.723,9.997,9.214,8.52,7.701,7.338,6.225,5.949,5.242,4.936,4.171,4.069,3.305,2.896,2.899,2.509,2.333,1.964,1.904,1.691,1.594,1.43,1.436,1.281,1.286,1.16,1.177,1.161,1.151,1.076,1.077,1.045,1.076,1.022,1.024,1.016,1.009,1.012,1.022,1.008,20.505,19.43,18.765,17.752,16.882,16.043,15.093,14.411,13.704,12.702,11.712,11.035,10.454,9.697,8.975,7.855,7.25,6.512,6.249,5.621,4.974,4.44,4.061,3.322,3.175,2.894,2.495,2.322,2.119,1.996,1.778,1.706,1.514,1.509,1.383,1.287,1.239,1.17,1.141,1.128,1.074,1.076,1.079,1.034,1.031,1.027,1.023,1.02,1.009,1.007,21.516,20.511,19.674,18.756,17.863,17.124,16.155,15.324,14.533,13.892,13.119,12.278,11.236,10.431,9.745,8.924,8.163,7.345,7.123,6.164,5.506,5.077,4.727,4.198,3.697,3.186,2.829,2.747,2.601,2.204,2.002,1.843,1.787,1.575,1.509,1.419,1.305,1.242,1.227,1.188,1.092,1.058,1.072,1.082,1.076,1.023,1.034,1.012,1.038,1.014,22.476,21.296,20.752,19.83,18.963,17.973,17.245,16.218,15.689,14.522,13.691,12.819,12.172,11.341,10.393,9.948,9.025,8.55,7.888,6.931,6.425,5.983,4.974,4.688,4.019,3.592,3.623,3.096,2.858,2.468,2.252,1.911,1.842,1.8,1.598,1.634,1.582,1.377,1.351,1.257,1.197,1.166,1.152,1.064,1.059,1.065,1.047,1.028,1.06,1.018,23.49,22.529,21.624,20.733,20.001,19.017,18.206,17.35,16.679,15.727,14.751,14.095,13.112,12.316,11.682,10.673,10.036,9.222,8.46,7.716,7.262,6.71,5.871,5.323,5.119,4.528,3.914,3.647,3.337,2.995,2.795,2.4,2.272,1.974,1.79,1.735,1.527,1.491,1.414,1.291,1.246,1.196,1.183,1.135,1.106,1.14,1.076,1.058,1.042,1.023,24.467,23.422,22.739,21.758,21.181,20.116,19.323,18.351,17.56,16.854,15.942,15.215,14.163,13.441,12.509,11.59,11.045,10.345,9.306,8.669,8.11,7.105,6.737,6.349,5.656,5.114,4.581,4.088,3.691,3.416,2.991,2.582,2.572,2.213,1.981,1.928,1.842,1.601,1.543,1.48,1.385,1.247,1.248,1.207,1.135,1.148,1.122,1.098,1.099,1.051,25.482,24.365,23.613,22.779,21.758,21.116,20.37,19.374,18.499,17.857,16.718,16.067,15.312,14.061,13.562,12.66,11.756,10.954,10.02,9.655,8.822,8.205,7.44,6.693,6.072,5.772,5.185,4.587,4.367,3.878,3.486,3.253,2.868,2.667,2.633,2.104,1.989,1.817,1.537,1.665,1.478,1.422,1.354,1.332,1.211,1.191,1.133,1.157,1.06,1.105,26.513,25.433,24.818,23.839,22.94,22.172,21.225,20.484,19.534,18.69,17.805,16.945,16.366,15.142,14.511,13.554,12.711,11.906,11.416,10.182,9.663,9.263,8.296,7.457,7.051,6.35,5.844,5.233,4.595,4.339,3.947,3.584,3.463,2.966,2.742,2.345,2.333,2.154,1.962,1.806,1.666,1.5,1.379,1.382,1.232,1.276,1.156,1.163,1.147,1.082,27.487,26.453,25.784,24.718,23.929,22.903,22.267,21.656,20.712,19.546,18.912,18.173,16.86,16.106,14.929,14.859,13.821,12.752,11.86,11.387,10.671,9.903,9.362,8.44,7.762,7.304,6.686,6.009,5.611,5.053,4.372,4.06,3.724,3.279,3.24,2.807,2.496,2.223,2.249,1.948,1.856,1.643,1.585,1.427,1.428,1.409,1.311,1.315,1.148,1.112,28.446,27.408,26.786,26.004,24.881,24.138,23.343,22.559,21.823,20.636,19.714,18.89,17.921,17.335,16.668,15.483,14.789,14.184,12.972,12.425,11.494,10.932,10.416,9.082,8.702,7.704,7.145,6.737,6.156,5.722,5.191,4.655,4.348,3.621,3.691,3.167,2.874,2.719,2.543,2.363,2.117,1.853,1.757,1.679,1.542,1.419,1.331,1.307,1.274,1.188,29.42,28.481,27.742,26.851,25.93,25.209,24.345,23.442,22.584,21.743,20.815,19.754,19.243,18.421,17.579,16.756,15.509,14.802,14.042,13.155,12.326,12.126,11.047,10.014,9.434,8.755,8.024,7.438,7.04,6.184,6.048,5.355,4.768,4.566,4.108,3.659,3.281,2.978,2.759,2.562,2.256,2.064,2.043,1.835,1.72,1.579,1.539,1.399,1.32,1.291,30.528,29.406,28.656,27.771,26.879,26.286,25.322,24.521,23.725,22.54,21.56,20.931,20.237,19.301,18.592,17.467,16.967,15.99,14.786,14.429,13.288,12.308,12.046,10.914,10.377,9.596,8.787,8.32,7.762,6.954,6.233,6.068,5.525,4.971,4.442,4.121,3.7,3.415,3.205,2.837,2.697,2.235,2.243,1.92,1.797,1.702,1.615,1.499,1.457,1.355,31.428,30.365,29.779,28.81,28.108,27.187,26.448,25.342,24.478,23.544,22.688,22.133,21.139,20.517,19.301,18.524,17.914,17.017,16.124,15.022,14.558,13.738,12.695,12.25,11.178,10.682,9.851,8.979,8.431,7.494,7.461,6.964,6.089,5.305,5.04,5.14,4.236,3.947,3.547,3.378,2.821,2.805,2.43,2.314,2.06,1.935,1.871,1.588,1.615,1.54,32.477,31.501,30.724,29.878,28.966,28.089,27.247,26.373,25.586,24.645,23.713,22.981,22.315,21.316,20.576,19.554,18.76,17.609,16.991,16.252,15.069,14.585,13.801,12.968,12.117,11.656,10.995,10.181,9.281,8.648,8.108,7.686,6.717,6.191,5.539,5.293,4.542,4.35,3.887,3.602,3.507,2.846,2.732,2.303,2.309,2.215,2.074,1.753,1.761,1.51,33.446,32.395,31.718,30.801,30.001,28.845,28.455,27.349,26.585,25.606,24.709,24.129,22.826,22.221,21.046,20.624,20.107,19.345,18.23,17.231,16.405,15.492,14.602,13.845,13.227,12.291,11.678,10.465,10.035,9.312,8.416,7.812,7.462,6.64,6.306,5.915,5.384,4.927,4.354,4.129,3.64,3.541,3.229,2.791,2.544,2.291,2.287,2.057,1.996,1.784,34.481,33.488,32.752,31.726,31.055,29.987,29.361,28.168,27.466,26.724,25.917,25.145,24.014,23.137,22.516,21.732,20.656,20.002,18.833,18.02,17.559,16.671,15.989,15.143,14.325,13.197,12.651,11.645,11.446,10.544,9.334,8.967,8.166,7.62,7.021,6.364,6.169,5.302,4.919,4.489,4.206,3.785,3.334,3.104,2.987,2.631,2.518,2.329,2.185,1.815,35.494,34.474,33.813,32.758,31.857,31.248,30.198,29.533,28.642,27.833,26.797,25.905,25.074,24.43,23.59,22.558,21.159,20.862,19.747,19.211,17.91,17.55,16.799,15.628,15.01,14.182,13.634,12.76,11.959,11.157,10.441,9.524,9.175,8.199,7.674,7.137,6.613,6.351,5.757,5.099,4.841,4.085,4.056,3.674,3.451,2.861,2.769,2.727,2.321,2.135,36.492,35.402,34.694,33.685,32.845,32.222,31.302,30.351,29.438,28.826,27.614,27.307,26.421,25.372,24.53,23.826,22.503,21.709,20.785,20.347,19.347,18.189,17.573,16.733,16.037,15.274,14.359,13.573,13.039,12.189,11.517,10.54,10.054,9.147,8.483,7.894,7.404,6.774,6.361,5.721,5.424,4.737,4.656,3.778,3.58,3.586,3.209,2.741,2.815,2.428,37.537,36.502,35.719,34.855,33.853,33.34,32.204,31.495,30.605,29.795,29.043,28.166,27.072,26.256,25.25,24.634,24.174,22.811,21.741,21.266,20.001,19.235,18.085,17.697,16.918,16.142,15.161,14.419,13.534,12.793,12.402,11.461,10.896,10.226,9.541,8.186,7.871,7.553,7.146,6.378,5.983,5.519,4.886,4.464,4.22,3.896,3.665,3.46,2.851,2.617,38.435,37.554,36.709,35.708,34.981,34.037,33.268,32.215,31.499,30.647,29.877,28.998,27.977,27.423,26.543,25.156,24.821,23.735,22.973,21.964,21.336,20.496,19.617,18.493,17.997,17.39,15.967,15.301,14.601,13.744,13.111,12.242,11.199,10.933,9.975,9.568,8.608,8.382,7.566,7.046,6.43,5.954,5.694,5.045,4.705,4.346,3.775,3.622,3.062,2.892,39.488,38.399,37.803,36.874,36.155,35.19,34.25,33.564,32.723,31.748,30.686,29.789,28.975,28.276,27.615,26.777,25.713,24.966,23.517,22.779,22.06,21.559,20.933,19.469,18.76,18.022,17.616,16.612,15.658,14.866,13.841,13.295,12.479,11.431,11.203,10.407,9.72,9.147,8.175,7.974,7.194,6.517,5.98,5.605,5.176,4.787,4.377,3.807,3.951,3.387,40.493,39.49,38.638,37.757,36.973,35.983,35.344,34.551,33.462,32.454,31.722,30.719,30.422,29.249,28.285,27.941,26.772,26.123,24.801,23.961,23.403,22.53,21.341,20.78,19.358,19.267,18.039,17.478,16.391,15.686,15.156,14.241,13.347,12.453,12.142,11.229,10.359,9.892,9.304,8.391,7.55,7.189,7.171,6.465,5.844,5.548,4.879,4.368,4.17,3.766,41.502,40.427,39.765,38.898,38.145,37.068,36.442,35.491,34.38,33.626,32.878,32.149,31.188,30.322,29.49,28.64,27.808,26.63,26.413,24.852,24.338,23.404,22.767,21.636,20.448,20.004,19.067,18.45,17.868,16.302,15.853,15.109,14.532,14.079,12.849,12.07,11.092,10.708,10.271,9.155,8.873,8.224,7.512,6.765,6.354,6.128,5.356,5.157,4.718,4.428,42.466,41.308,40.631,39.725,39.041,38.125,37.089,36.37,35.497,34.568,33.81,33.098,32.074,31.255,30.427,29.4,28.666,27.967,26.986,25.916,25.132,24.55,23.681,22.857,21.733,20.995,20.42,19.885,18.499,17.813,16.902,15.918,15.411,14.297,13.907,13.359,12.339,11.646,11.278,10.421,9.367,8.97,8.15,7.349,7.044,6.625,6.079,5.632,5.222,4.724,43.529,42.474,41.671,40.775,39.929,39.02,38.09,37.203,36.48,35.556,34.635,33.755,33.127,32.381,31.373,30.901,29.578,28.96,28.487,26.689,26.362,25.384,24.677,23.881,22.524,21.776,21.314,20.269,19.689,18.608,18.125,16.645,16.232,15.653,14.624,13.577,13.331,12.149,11.902,11.007,10.191,9.514,9.138,8.473,7.626,7.132,6.648,6.251,5.879,5.183,44.468,43.458,42.68,41.891,41.053,40.212,39.188,38.15,37.604,36.713,35.801,34.985,34.189,32.969,32.082,31.635,30.78,29.71,28.901,28.296,27.131,26.798,25.499,24.597,24.031,23.097,22.368,21.292,20.515,19.355,18.965,18.016,17.66,16.468,15.616,15.259,13.991,13.594,12.371,11.885,11.14,9.92,9.827,9.06,8.66,7.976,7.502,6.73,6.219,5.774,45.447,44.442,43.732,42.775,42.088,40.897,40.279,39.249,38.67,37.571,36.708,36.04,35.139,34.477,33.262,32.595,31.463,30.837,29.957,29.33,28.838,27.257,26.391,25.784,25.066,24.091,23.26,22.549,21.145,20.137,19.727,19.168,18.271,17.673,16.178,16.034,14.922,13.998,13.691,12.874,11.743,11.276,10.491,9.642,9.209,8.797,8.248,7.552,6.934,6.799,46.478,45.357,44.621,43.787,43.048,41.998,41.2,40.46,39.48,38.6,37.914,36.945,35.993,35.261,34.295,33.571,32.687,31.897,30.844,30.1,29.204,28.828,27.805,26.579,26.132,24.787,24.267,23.101,22.751,21.83,20.826,19.286,18.768,18.807,17.576,16.38,16.201,15.218,13.917,13.754,12.872,12.435,11.858,11.059,10.225,9.286,8.437,8.094,7.656,6.799,47.477,46.469,45.712,44.815,43.973,43.134,42.262,41.474,40.462,39.776,38.88,37.684,37.084,36.072,35.524,34.452,33.951,33.123,32.256,31.218,30.503,29.185,28.734,27.386,26.934,26.345,25.478,24.686,24.159,22.774,21.978,20.584,20.257,19.08,19.012,17.49,16.596,15.777,15.301,14.867,13.601,12.96,12.347,11.317,10.753,10.256,9.515,8.869,8.124,7.978,48.44,47.444,46.791,45.913,44.878,43.941,43.105,42.329,41.433,40.508,39.926,38.86,38.247,37.434,36.851,35.751,34.743,33.6,32.965,32.093,31.222,30.265,29.741,28.35,27.905,27.347,25.896,25.234,24.147,23.24,22.812,21.901,20.729,19.976,19.392,18.706,17.962,16.784,16.23,15.239,14.505,13.616,12.856,12.532,11.322,10.622,10.038,9.903,9.138,8.153,49.473,48.42,47.715,46.885,46.123,45.228,44.198,43.546,42.788,41.528,40.944,39.772,39.214,38.277,37.714,36.882,35.539,34.79,33.985,33.186,32.58,31.224,30.642,29.724,28.443,28.088,27.435,26.605,24.86,24.844,23.697,22.733,22.146,21.084,20.643,19.488,18.527,17.849,17.078,16.603,15.032,14.961,13.339,13.641,12.926,11.514,10.704,10.557,9.963,9.8];

var app = new Vue({
  el: '#app',
  data: {
    att_troops: '',
    def_troops: '',
    rolls: []
  },
  watch: {
    att_troops: function() {
      this.reset();
    },
    def_troops: function() {
      this.reset();
    }
  },
  computed: {
    attackable: function() {
      last_roll = this.last_roll();
      return last_roll && last_roll.att_troops > 1 && last_roll.def_troops > 0;
    },
    blitzable: function() {
      last_roll = this.last_roll();
      return last_roll && last_roll.att_troops > 3 && last_roll.def_troops > 0;
    },
    win_probability: function() {
      last_roll = this.last_roll();
      if (!last_roll) {
        return;
      }

      index = (last_roll.att_troops - 1) * 50 + (last_roll.def_troops - 1)
      return win_probabilities_list[index];
    },
    average_survivors: function() {
      last_roll = this.last_roll();
      if (!last_roll) {
        return;
      }

      index = (last_roll.att_troops - 1) * 50 + (last_roll.def_troops - 1)
      return average_survivors_list[index];
    }
  },
  methods: {
    blitz_roll: function(el) {
      while (this.blitzable) {
        this.manual_roll();
      }
    },
    manual_roll: function(el) {
      last_roll = this.last_roll();

      att_dices_count = Math.min(last_roll.att_troops - 1, 3)
      def_dices_count = Math.min(last_roll.def_troops, 2)

      att_dices = []
      for (var i = 0; i < att_dices_count; ++i) {
        var dice_result = this.roll_dice()
        att_dices.push({value: dice_result});
      }

      def_dices = []
      for (var i = 0; i < def_dices_count; ++i) {
        var dice_result = this.roll_dice()
        def_dices.push({value: dice_result});
      }

      att_dices.sort(function(a, b){return b.value - a.value});
      def_dices.sort(function(a, b){return b.value - a.value});
      att_lost_troops = 0;
      def_lost_troops = 0;

      min_dices_count = Math.min(att_dices_count, def_dices_count);
      for (var i = 0; i < min_dices_count; ++i) {
        if (att_dices[i].value > def_dices[i].value) {
          att_dices[i].win = true
          def_lost_troops++;
        } else {
          def_dices[i].win = true
          att_lost_troops++;
        }
      }

      roll = {
        round: last_roll.round + 1,
        att_dices: att_dices,
        def_dices: def_dices,
        att_troops: last_roll.att_troops - att_lost_troops,
        def_troops: last_roll.def_troops - def_lost_troops
      }

      this.rolls.push(roll);
    },
    roll_dice: function() {
      return Math.floor((Math.random() * 6) + 1);
    },
    reset: function() {
      this.rolls = []
      this.rolls.push({
        round: 0,
        att_troops: this.att_troops,
        def_troops: this.def_troops,
        att_dices: [],
        def_dices: []
      })
    },
    last_roll: function() {
      return this.rolls[this.rolls.length - 1];
    }
  }
});
